<!DOCTYPE html>
<html>
  <head>
    <style>
     @font-face {
       font-family: NotoSans;
       src: url({{ 'fonts/NotoSans/NotoSans-Regular.ttf' | asseturl }});
     }
     @font-face {
       font-family: NotoSansBold;
       src: url({{ 'fonts/NotoSans/NotoSans-Bold.ttf' | asseturl }});
     }
     @font-face {
       font-family: NotoSansBlack;
       src: url({{ 'fonts/NotoSans/NotoSans-Black.ttf' | asseturl }});
     }

     body {
       background-color: #fcfdfb;
       font-family: NotoSans;
       margin: 0;
     }
     h1 {
       font-size: 3em;
       font-family: NotoSansBlack;
     }
     h2 {
       font-size: 2.25em;
       font-family: NotoSansBold;
     }
     a {
       text-decoration: none;
       color: {{ envvars('ACCENT_COLOR') }};
     }
     p {
       font-size: 1.25em;
     }
     #site-header {
       background-color: {{ envvars('CIRCLE_BG') }};
       padding: 0 2%;
     }
     #site-header ul {
       list-style-type: none;
       padding-top: 10px;
       padding-bottom: 10px;
       display: inline;
     }
     #site-header li {
       padding: 16px;
       display: inline;
     }
     .shape {
       position: absolute;
       overflow: hidden;
       height: 80px;
       width: 100%;
     }
     .shape::before {
       border-radius: 100%;
       position: absolute;
       background: {{ envvars('CIRCLE_BG') }};
       right: -200px;
       left: -200px;
       top: -200px;
       content: '';
       bottom: 0;
       z-index: -100;
     }
     #content {
       margin: 0 auto;
       margin-bottom: 6%;
     }
     #container {
       background-color: {{ envvars('CIRCLE_BG') }};
       margin: 0;
       //text-align: center;
     }
     #container * {
       margin: 0;
     }
     #page-content {
       margin: 2% auto;
       width: 82vw;
       border-radius: 13px;
       background-color: white;
       filter: drop-shadow(0 0 5px #e2e2e2);
       padding: 3%;
       box-sizing: border-box;
     }
     .parent {
       /*margin: 1rem;
          padding: 2rem 2rem;
          text-align: center;*/
       display: flex;
       justify-content: space-between;
     }
     .child {
       //display: inline-block;
       //vertical-align: middle;
     }
     #steps-container {
       width: 82vw;
       margin: 0 auto;
     }
     .step-text {
       width: 50%;
     }
     .onion-url-container {
       background-color: {{ envvars('ONION_URL_BG') }};
       display: inline-block;
       padding: 1%;
       border-radius: 10px;
     }
     .onion-url-container p {
       color: {{ envvars('ACCENT_COLOR') }};
       display: inline;
     }
     .button {
       background-color: {{ envvars('ACCENT_COLOR') }};
       color: white;
       padding: 1.5%;
       border-radius: 50px;
       box-shadow: 0 4px 10px {{ envvars('CIRCLE_BG') }};;
       padding-right: 2.25%;
     }
     #onion-glyph-download {
       height: 20px;
       padding: 10px;
       transform: translateY(13px);
       filter: invert(100%) sepia(0%) saturate(7468%) hue-rotate(246deg) brightness(105%) contrast(101%);
     }
     .onion-url-lock {
       transform: translateY(4px);
       /*filter: invert(39%) sepia(28%) saturate(6420%) hue-rotate(74deg) brightness(92%) contrast(93%);*/
       filter: {{ envvars('ONION_URL_LOCK_FILTER') }};
       height: 20px;
       user-select: none;
       -moz-user-select: none;
       -khtml-user-select: none;
       -webkit-user-select: none;
       -o-user-select: none;
     }
     #support-footer {
       width: 100%;
       background-color: white;
       box-shadow: 0 -5px 5px #e2e2e2;
       padding-top: 5%;
       padding-bottom: 5%;
     }
     .chevron-down {
       background-image: url({{ 'chevron-down-solid.svg' |asseturl }});
       width: 20px;
       height: 20px;
       background-repeat: no-repeat;
       float: right;
     }
     summary.no-marker {
       list-style: none;
     }
     details[open] > summary > i.chevron-down {
       transform: rotate(180deg);
     }
     .circle-bg {
       display: inline-block;
       width: 400px;
       height: 400px;
       position: absolute;
       background-color: {{ envvars('CIRCLE_BG') }};
       z-index: -1;
       border-radius: 100%;
     }
     details.collapsible-text > summary {
       font-weight: bold;
       background: #f7f7f7;
       padding: 2%;
       border-radius: 5px;
       font-size: 1.25em;
       border: 1px solid rgba(0, 0, 0, 0.05);
     }
     details[open].collapsible-text > summary {
       border-radius: 5px 5px 0 0;
     }
     details.collapsible-text {
       border-radius: 5px;
       border: 1px solid rgba(0, 0, 0, 0.05);
     }
     details.collapsible-text > div.details-container {
       padding: 0 5%;
       color: rgba(0, 0, 0, 0.54);
     }
    </style>
  </head>
  <body>
    {% include 'macros/header.html' %}
    <div id="content">
      <div id="container" class="parent">
        <div class="child" style="display: inline-block; margin-left: 10%; margin-top: 2%;">
          <h1>{{ this.title }}</h1>
          <div style="margin-top: 2%; margin-bottom: 2%;">
            {{ this.subtitle }}
          </div>
          {% include 'macros/onion_url.html' %}
        </div>
        <div class="child" style="margin-right: 8%;">
          <img src="{{ 'header-tor.png' | asseturl }}">
        </div>
      </div>
      <div class="shape"></div>
      <div id="page-content">
        <h2 style="margin-top: 0;">{{ _('Circumvent Censorship with Tor') }}</h2>
        {{ md(_("Tor provides a way to browse the Internet anonymously, helping people **avoid both censorship and surveillance**.
        Tor Browser is just like any other browser you use - Chrome, Firefox, Safari, Yandex - except instead of exposing all your browsing behaviour to your Internet service provider and everyone else snooping on your traffic, it **hides your traffic** by encrypting it and letting it bounce through three random volunteer-run nodes (these nodes are also called \"relays\").
        This process obfuscates who you are, where you are, and where you're going (i.e. which website you're visiting).")) }}

        {{ md(_('Tor is used by human rights defenders, activists, and people from all around the world who need to **escape censorship and surveillance**.
        To learn more about Tor and how it works, visit the [Tor Browser Manual](https://tb-manual.torproject.org).')) }}
      </div>
      <div id="steps-container">
        <div id="step1" class="parent">
          <div class="child step-text">
            <h2>{{ _('Step 1: Download Tor Browser') }}</h2>
            {{ md(_('The safest and simplest way to download Tor Browser is from the official Tor Project website. For {operating system}, you can download Tor Browser from the link below:')) }}
            <div style="margin-top: 2%; margin-bottom: 5%;">
              <a href="https://www.torproject.org/download/" class="button"><img src="{{ 'onion-glyph.svg' | asseturl }}" id="onion-glyph-download">{{ _('Download Tor Browser') }}</a>
            </div>
            <details class="collapsible-text">
              <summary class="no-marker">{{ _('Facing trouble downloading Tor Browser?') }}<i class="chevron-down"></i></summary>
              <div class="details-container">
              {{ md(_('There may be times when you cannot access the Tor Project website: for example, it could be blocked on your network.
              If this happens, you can use one of the alternative download methods listed below.')) }}
              {{ md(_('### Mirrors
You can try downloading Tor Browser from one of the official mirrors, either through:
https://tor.eff.org/
http://tor.calyxinstitute.org/')) }}
              {{ md(_('### GetTor
If even the mirror sites are blocked, you can request to receive Tor Browser from GetTor.
GetTor is a service that automatically responds to messages with links to the latest version of Tor Browser, hosted at a variety of locations, such as Dropbox, Google Drive and GitHub:
- Step 1: Send an email to gettor@torproject.org, and in the body of the message simply write “windows”, “osx”, or “linux”, (without quotation marks) depending on your operating system.
You can also add a language code to get Tor Browser on a language different than English.
For example, to get links for downloading Tor Browser in Chinese (China) for Windows, send an email to gettor@torproject.org with the words "windows zh_CN" in it.
- Step 2: GetTor will respond with an email containing links from which you can download the Tor Browser package, the cryptographic signature (needed for verifying the download), the fingerprint of the key used to make the signature, and the package’s checksum.
You may be offered a choice of “32-bit” or “64-bit” software: this depends on the model of the computer you are using.')) }}
              {{ md(_('You can also access documentation and other resources using the following mirrors:
              Tor support portal: https://support.tor.invidious.site/
              Tor Browser manual: https://tb-manual.tor.invidious.site/
              Tor project blog: https://blog.tor.invidious.site/
              Tor main website: https://tor.invidious.site/')) }}
              </div>
            </details>
          </div>
          <div class="child">
            <div class="circle-bg"></div>
            <img src="{{ 'download-tor.png' | asseturl }}">
          </div>
        </div>
        <div id="step2" class="parent">
          <div class="child">
            <div class="circle-bg"></div>
            <img src="{{ 'connect-tor.png' | asseturl }}">
          </div>
          <div class="child step-text" style="width: 60%;">
            <h2>{{ _('Step 2: Connect to Tor') }}</h2>
            <p>{{ _("When you run Tor Browser for the first time, you will see the Connect to Tor window.
              This offers you the option to either connect directly to the Tor network, or to configure Tor Browser for your connection.
              There's a checkbox which asks whether you always want to get automatically connected to the Tor network, if this is the case, check the box.") }}</p>
            <p>{{ _('You should be able to start browsing the web using Tor Browser shortly after running the program, and clicking the “Connect” button if you are using it for the first time.') }}</p>
            <details class="collapsible-text">
              <summary style="font-weight: bold; background: #f7f7f7; padding: 2%; border-radius: 5px; font-size: 1.25em;" class="no-marker">Facing trouble connecting to Tor?<i class="chevron-down"></i></summary>
              <div class="details-container">
              {{ md(_('Direct access to the Tor network may sometimes be blocked by your Internet Service Provider or by a government.
              Tor Browser includes some circumvention tools for getting around these blocks.
              In such scenarios, simply configuring your browser to connect through a bridge should suffice. Bridges are simply relays that are private and harder to block.')) }}

              {{ md(_('### Instructions on how to activate bridges for desktop:
You can use a bridge in Tor Browser for desktop by going to: Settings > Tor > Bridges > Use a Bridge.
              As of 22 December 2021, bridges bundled directly into Tor Browser are blocked in Russia.
              Readers therefore need to request a bridge via one of the following ways:
              Requesting a bridge from within Tor Browser on desktop [Settings > Tor > Bridges > Request a bridge from torproject.org > Solve the CAPTCHA]
              Sending "/bridges" to the dedicated Telegram channel https://t.me/@GetBridgesBot and then adding the bridges lines received manually via copy and paste in Tor Browser [Settings > Tor > Bridges > Provide a bridge]
              Requesting a bridge via email: bridges@torproject.org; and then adding the bridges lines received manually via copy and paste in Tor Browser [Settings > Tor > Bridges > Provide a bridge]
              Connecting through "Snowflake" from within Tor Browser [Settings > Tor > Bridges > Select a built-in bridge > Snowflake]')) }}

              {{ md(_('### Instructions on how to activate bridges for Android:
Readers can use a bridge on Android by going to: Settings icon > Config Bridge > Use a bridge.
              In the case that bridges bundled directly into Tor Browser are blocked, readers need to request a bridge via one of the following ways:
              Sending "/bridges" to the dedicated Telegram channel https://t.me/@GetBridgesBot and then adding the bridges lines received manually via copy and paste in Tor Browser [Config Bridge > Provide a bridge I know]
              Requesting a bridge via email: bridges@torproject.org; and then adding the bridges lines received manually via copy and paste in Tor Browser [Config Bridge > Provide a bridge I know]
              Connecting through Snowflake from within Tor Browser [Config Bridge > Snowflake]')) }}

              {{ md(_('### Instructions on how to activate bridges for iOS:
Readers can use a bridge on iOS by going to: Onion icon when viewing a website > Bridge Configuration.
              In the case that bridges bundled directly into Tor Browser are blocked, you can request a bridge via one of the following ways:
              Sending "/bridges" to the dedicated Telegram channel https://t.me/@GetBridgesBot and then adding the bridges lines received manually via copy and paste in Tor Browser [Bridge Configuration > Custom Bridges]
              Requesting a bridge via email: bridges@torproject.org; and then adding the bridges lines received manually via copy and paste in Tor Browser [Bridge Configuration > Custom Bridges]
              Connecting through Snowflake from within Tor Browser [Bridge Configuration > Snowflake]')) }}
              </div>
            </details>
          </div>
        </div>
        <div id="step3" class="parent">
          <div class="child step-text">
            <h2>Step 3: Access the Onion Service</h2>
            {{ md(_('Onion services (formerly known as "hidden services") are services (like websites) that are only accessible through the Tor network.
            Just like any other website, you will need to know the address of an onion service in order to connect to it.
            An onion address is a string of 56 mostly random letters and numbers, followed by ".onion".
            To learn more about Onion Services, visit the [Tor Browser Manual](https://tb-manual.torproject.org/onion-services).')) }}

            {{ md(_("To access {USAGM Service Name}'s onion service, simply copy and paste the following URL onto Tor Browser:")) }}
            {% include 'macros/onion_url.html' %}
          </div>
          <div class="child">
            <div class="circle-bg"></div>
            <img src="{{ 'onion-services.png' | asseturl }}">
          </div>
        </div>
      </div>
    </div>
    {% include 'macros/footer.html' %}
  </body>
</html>
